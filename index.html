<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D&D Starter Sheet</title>
    <link rel="stylesheet" href="styles.css">
    <script src="index.js" defer></script>
    <style>
        #sheet-status {
            position: fixed;
            top: 1rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1001;
            padding: 0.45rem 0.7rem;
            border: 2px solid #222;
            background: #fff;
            font-weight: 700;
            font-size: 0.8rem;
            max-width: 80vw;
            text-align: center;
        }

        #sheet-status[data-state="error"] {
            background: #f8d7da;
            color: #721c24;
        }

        #sheet-status[data-state="ok"] {
            background: #d4edda;
            color: #155724;
        }

        #sheet-status.is-hidden {
            display: none !important;
        }

        .print-mode #sheet-status {
            display: none !important;
        }

        #list-link {
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 1001;
            padding: 0.45rem 0.7rem;
            border: 2px solid #222;
            background: #fff;
            color: #111;
            text-decoration: none;
            font-weight: 700;
            font-size: 0.8rem;
        }

        #proficiencies-link {
            position: fixed;
            top: 3.1rem;
            left: 1rem;
            z-index: 1001;
            padding: 0.45rem 0.7rem;
            border: 2px solid #222;
            background: #fff;
            color: #111;
            text-decoration: none;
            font-weight: 700;
            font-size: 0.8rem;
        }

        @media print {
            #sheet-status {
                display: none !important;
            }
        }
    </style>
</head>

<body>
    <a id="list-link" href="list.html">Back To Character List</a>
    <a id="proficiencies-link" href="proficiencies.html" hidden>Edit Proficiencies</a>
    <div id="sheet-status" data-state="loading">Load a character from list.html</div>

    <div class="sheet-card">

        <div class="sheet-header">
            <div class="level-badge">Level 1</div>
            <div class="class-name">Barbarian</div>
        </div>

        <div class="sheet-body">

            <div class="abilities-panel">
                <div class="abilities-title">Ability Modifiers<br>Saving Throws &amp; Skills</div>

                <div class="ability-group">
                    <div class="ability-col">
                        <div class="ability-label">Strength</div>
                        <div class="ability-mod">+3</div>
                        <div class="skill-line save-line"><span class="mod-val">+5</span> STR Save</div>
                        <div class="skill-line"><span class="mod-val">+5</span> Athletics</div>
                    </div>
                    <div class="ability-col">
                        <div class="ability-label">Dexterity</div>
                        <div class="ability-mod">+2</div>
                        <div class="skill-line save-line"><span class="mod-val">+2</span> DEX Save</div>
                        <div class="skill-line"><span class="mod-val">+2</span> Acrobatics</div>
                        <div class="skill-line"><span class="mod-val">+2</span> Sleight of Hand</div>
                        <div class="skill-line"><span class="mod-val">+2</span> Stealth</div>
                    </div>
                </div>

                <div class="ability-group">
                    <div class="ability-col">
                        <div class="ability-label">Constitution</div>
                        <div class="ability-mod">+2</div>
                        <div class="skill-line save-line"><span class="mod-val">+4</span> CON Save</div>
                    </div>
                    <div class="ability-col">
                        <div class="ability-label">Intelligence</div>
                        <div class="ability-mod">+0</div>
                        <div class="skill-line save-line"><span class="mod-val">+0</span> INT Save</div>
                        <div class="skill-line"><span class="mod-val">+0</span> Arcana</div>
                        <div class="skill-line"><span class="mod-val">+0</span> History</div>
                        <div class="skill-line"><span class="mod-val">+0</span> Investigation</div>
                        <div class="skill-line"><span class="mod-val">+2</span> Nature</div>
                        <div class="skill-line"><span class="mod-val">+0</span> Religion</div>
                    </div>
                </div>

                <div class="ability-group">
                    <div class="ability-col">
                        <div class="ability-label">Wisdom</div>
                        <div class="ability-mod">+1</div>
                        <div class="skill-line save-line"><span class="mod-val">+1</span> WIS Save</div>
                        <div class="skill-line"><span class="mod-val">+1</span> Animal Handling</div>
                        <div class="skill-line"><span class="mod-val">+1</span> Insight</div>
                        <div class="skill-line"><span class="mod-val">+1</span> Medicine</div>
                        <div class="skill-line"><span class="mod-val">+1</span> Perception</div>
                        <div class="skill-line"><span class="mod-val">+3</span> Survival</div>
                    </div>
                    <div class="ability-col">
                        <div class="ability-label">Charisma</div>
                        <div class="ability-mod">-1</div>
                        <div class="skill-line save-line"><span class="mod-val">-1</span> CHA Save</div>
                        <div class="skill-line"><span class="mod-val">-1</span> Deception</div>
                        <div class="skill-line"><span class="mod-val">+1</span> Intimidation</div>
                        <div class="skill-line"><span class="mod-val">-1</span> Performance</div>
                        <div class="skill-line"><span class="mod-val">-1</span> Persuasion</div>
                    </div>
                </div>

                <div class="heroic-inspiration">
                    <div class="heroic-label">Heroic<br>Inspiration</div>
                    <div class="inspiration-circle"></div>
                </div>
            </div>

            <div class="center-area">
                <div class="center-columns">
                    <div class="center-col-left">
                        <div class="init-speed-row">
                            <div class="stat-block">
                                <div class="label-bar">Initiative</div>
                                <div class="stat-value">+2</div>
                            </div>
                            <div class="stat-block">
                                <div class="label-bar">Speed</div>
                                <div class="stat-value">30 Feet</div>
                            </div>
                        </div>

                        <div class="hp-block">
                            <div class="label-bar">Hit Point Maximum</div>
                            <div class="hp-area">
                                <div class="hp-value">14</div>
                                <div class="hp-text">
                                    Place Hit Point Tokens here.
                                    Remove them as you take damage.
                                </div>
                                <div class="hp-text" style="margin-top: 0.3rem;">
                                    If you are reduced to 0 Hit Points,
                                    see the "Dropping to 0 Hit Points"
                                    section on page 16 of the Play Guide.
                                </div>
                            </div>
                        </div>

                        <div class="card-slot"></div>

                        <div class="green-label">Equipment</div>
                    </div>

                    <div class="center-col-right">
                        <div class="card-slot"></div>

                        <div class="green-label">Equipment</div>

                        <div class="card-slot"></div>

                        <div class="green-label">Equipment</div>
                    </div>
                </div>

                <div class="attack-footer">
                    <div class="attack-line">Melee Attack Rolls: +5</div>
                    <div class="attack-line">Ranged Attack Rolls: +5</div>
                </div>
            </div>

            <div class="features-panel">

                <div class="class-features-box">
                    <div class="class-features-title">Barbarian Class Features</div>
                    <div class="class-features-content">
                        <h4>Rage</h4>
                        <p>As a Bonus Action, remove 1 Power Token to enter a Rage, gaining +2 damage with Strength
                            attacks and resistance to bludgeoning, piercing, and slashing damage.</p>
                    </div>
                </div>

                <div class="side-tab-zone">
                    <div class="side-tab-inner">
                        <div class="meta-grid">
                            <div class="meta-row">
                                <div class="meta-label">God</div>
                                <div id="meta-god" class="meta-value">-</div>
                            </div>
                            <div class="meta-row">
                                <div class="meta-label">Piety</div>
                                <div id="meta-piety" class="meta-value">0</div>
                            </div>
                            <div id="meta-allegiance-row" class="meta-row" hidden>
                                <div class="meta-label">Allegiance</div>
                                <div id="meta-allegiance" class="meta-value">-</div>
                            </div>
                        </div>
                    </div>
                    <div class="side-tab species">Species Card</div>
                </div>

                <div class="side-tab-zone background-zone">
                    <div class="side-tab-inner">
                        <div class="meta-grid">
                            <div class="meta-row">
                                <div class="meta-label">XP</div>
                                <div id="meta-xp" class="meta-value">0</div>
                            </div>
                            <div class="meta-block">
                                <div class="meta-label meta-label-block">Feats</div>
                                <ul id="meta-feats" class="meta-list">
                                    <li class="meta-empty">None</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="side-tab background">Background Card</div>
                </div>

                <div class="rest-info">
                    <p>After a <strong>Short Rest:</strong></p>
                    <ul>
                        <li>Regain 8 Hit Point Tokens.</li>
                        <li>Restore 1 expended Power Token on Rage.</li>
                    </ul>
                    <p>After a <strong>Long Rest:</strong></p>
                    <ul>
                        <li>Regain all Hit Point Tokens and all expended Power Tokens.</li>
                    </ul>
                </div>
            </div>

        </div>
    </div>

    <button id="print-toggle"
        style="position: fixed; top: 1rem; right: 1rem; padding: 0.5rem 1rem; font-weight: bold; cursor: pointer; z-index: 1001; background: white; border: 2px solid black;">
        Toggle Print Mode
    </button>

    <script>
        const toggleBtn = document.getElementById('print-toggle');
        toggleBtn.addEventListener('click', () => {
            document.body.classList.toggle('print-mode');
        });
    </script>
</body>

</html>
